import{S as Ne,i as Re,s as Ue,a as c,k as t,q as d,K as ke,h as n,c as u,l as o,m as s,r as m,n as i,b as Se,G as e,H as Pe,o as Fe,N as qe}from"../chunks/index.5b37bd6f.js";import{S as Le}from"../chunks/sweetalert2.all.fe32f612.js";const{document:be}=qe;function $e(j){let x,S,a,y,q,p,P,L,N,$,D,g,G,b,l,V,Y,H,J,R,K,f,E,z,_,Q,I,W,X,Z,ee,ae,re,U,te,v,C,oe,T,ne,O,se,B,ie,w,le,ce,de,ue,me,ve,A,k,fe;return be.title=x=j[0],{c(){S=c(),a=t("form"),y=t("label"),q=d(`Card name:
    `),p=t("input"),P=c(),L=t("br"),N=c(),$=t("br"),D=c(),g=t("label"),G=d(`Card file (Must be SVG):
    `),b=t("input"),l=c(),V=t("br"),Y=c(),H=t("br"),J=c(),R=t("label"),K=d(`Card type:
    `),f=t("select"),E=t("option"),z=d("Player"),_=t("option"),Q=d("Ability"),I=t("option"),W=d("Item"),X=c(),Z=t("br"),ee=c(),ae=t("br"),re=c(),U=t("label"),te=d(`Card rarity:
    `),v=t("select"),C=t("option"),oe=d("Common"),T=t("option"),ne=d("Uncommon"),O=t("option"),se=d("Rare"),B=t("option"),ie=d("Epic"),w=t("option"),le=d("Legendary"),ce=c(),de=t("br"),ue=c(),me=t("br"),ve=c(),A=t("button"),k=t("span"),fe=d("Submit (Send your card to the API)"),this.h()},l(h){ke("svelte-1258swp",be.head).forEach(n),S=u(h),a=o(h,"FORM",{id:!0});var r=s(a);y=o(r,"LABEL",{});var he=s(y);q=m(he,`Card name:
    `),p=o(he,"INPUT",{type:!0,class:!0,id:!0}),he.forEach(n),P=u(r),L=o(r,"BR",{}),N=u(r),$=o(r,"BR",{}),D=u(r),g=o(r,"LABEL",{});var pe=s(g);G=m(pe,`Card file (Must be SVG):
    `),b=o(pe,"INPUT",{type:!0,id:!0,accept:!0}),pe.forEach(n),l=u(r),V=o(r,"BR",{}),Y=u(r),H=o(r,"BR",{}),J=u(r),R=o(r,"LABEL",{});var ye=s(R);K=m(ye,`Card type:
    `),f=o(ye,"SELECT",{name:!0,class:!0,id:!0});var M=s(f);E=o(M,"OPTION",{});var Ee=s(E);z=m(Ee,"Player"),Ee.forEach(n),_=o(M,"OPTION",{});var _e=s(_);Q=m(_e,"Ability"),_e.forEach(n),I=o(M,"OPTION",{});var Ie=s(I);W=m(Ie,"Item"),Ie.forEach(n),M.forEach(n),ye.forEach(n),X=u(r),Z=o(r,"BR",{}),ee=u(r),ae=o(r,"BR",{}),re=u(r),U=o(r,"LABEL",{});var ge=s(U);te=m(ge,`Card rarity:
    `),v=o(ge,"SELECT",{name:!0,class:!0,id:!0});var F=s(v);C=o(F,"OPTION",{});var Ce=s(C);oe=m(Ce,"Common"),Ce.forEach(n),T=o(F,"OPTION",{});var Te=s(T);ne=m(Te,"Uncommon"),Te.forEach(n),O=o(F,"OPTION",{});var Oe=s(O);se=m(Oe,"Rare"),Oe.forEach(n),B=o(F,"OPTION",{});var Be=s(B);ie=m(Be,"Epic"),Be.forEach(n),w=o(F,"OPTION",{});var we=s(w);le=m(we,"Legendary"),we.forEach(n),F.forEach(n),ge.forEach(n),ce=u(r),de=o(r,"BR",{}),ue=u(r),me=o(r,"BR",{}),ve=u(r),A=o(r,"BUTTON",{type:!0,class:!0});var xe=s(A);k=o(xe,"SPAN",{class:!0});var Ae=s(k);fe=m(Ae,"Submit (Send your card to the API)"),Ae.forEach(n),xe.forEach(n),r.forEach(n),this.h()},h(){i(p,"type","text"),i(p,"class","rounded-sm text-black"),i(p,"id","name"),p.required=!0,i(b,"type","file"),i(b,"id","svg"),i(b,"accept",".svg"),b.required=!0,E.__value="1",E.value=E.__value,_.__value="2",_.value=_.__value,I.__value="3",I.value=I.__value,i(f,"name","types"),i(f,"class","bg-white text-black"),i(f,"id","types"),C.__value="1",C.value=C.__value,T.__value="2",T.value=T.__value,O.__value="3",O.value=O.__value,B.__value="4",B.value=B.__value,w.__value="5",w.value=w.__value,i(v,"name","rarity"),i(v,"class","bg-white text-black"),i(v,"id","rarity"),i(k,"class","relative rounded-md bg-white px-5 py-2.5 transition-all duration-75 ease-in group-hover:bg-opacity-0 dark:bg-gray-900"),i(A,"type","submit"),i(A,"class","group relative mb-2 mr-2 inline-flex items-center justify-center overflow-hidden rounded-lg bg-gradient-to-br from-red-400 to-yellow-600 p-0.5 text-sm font-medium text-gray-900 hover:text-white focus:outline-none focus:ring-4 focus:ring-red-200 group-hover:from-red-400 group-hover:to-orange-600 dark:text-white dark:focus:ring-red-800"),i(a,"id","form")},m(h,r){Se(h,S,r),Se(h,a,r),e(a,y),e(y,q),e(y,p),e(a,P),e(a,L),e(a,N),e(a,$),e(a,D),e(a,g),e(g,G),e(g,b),e(a,l),e(a,V),e(a,Y),e(a,H),e(a,J),e(a,R),e(R,K),e(R,f),e(f,E),e(E,z),e(f,_),e(_,Q),e(f,I),e(I,W),e(a,X),e(a,Z),e(a,ee),e(a,ae),e(a,re),e(a,U),e(U,te),e(U,v),e(v,C),e(C,oe),e(v,T),e(T,ne),e(v,O),e(O,se),e(v,B),e(B,ie),e(v,w),e(w,le),e(a,ce),e(a,de),e(a,ue),e(a,me),e(a,ve),e(a,A),e(A,k),e(k,fe)},p(h,[r]){1&r&&x!==(x=h[0])&&(be.title=x)},i:Pe,o:Pe,d(h){h&&n(S),h&&n(a)}}}function De(j,x,S){let a;return Fe(()=>{document.querySelector("form").addEventListener("submit",async y=>{y.preventDefault();const q=document.getElementById("name").value,p=document.getElementById("svg").files[0],P=localStorage.getItem("uuid"),L=localStorage.getItem("sessionToken");if(P&&L){const N=new FileReader;N.readAsText(p,"UTF-8"),N.onload=async function($){const D=$.target.result,g=document.getElementById("types").value,G=document.getElementById("rarity").value;fetch("https://crowdcards-api.glitch.me/api/addCard",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:q,type:g,rarity:G,svg:D,UUID:P,stoken:L})}).then(l=>l.text()).then(l=>{console.log(l),/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(l)===!0?Le.fire({title:"Success!",text:`Your card has been uploaded! Its UUID is ${l}.`,icon:"success",confirmButtonText:`<a href=//crowdcards.glitch.me/view_card.html?cuuid=${l}>Let me see it!</a>`}):Le.fire({icon:"error",title:"Uh oh!",text:`Something went wrong uploading your card, sorry! The error was ${l}.`,confirmButtonText:":("})}).catch(l=>{alert("An error occured! Error:"+l)})}}else alert("You haven't logged in yet! Log in before you can upload a card to CrowdCards.")})}),S(0,a="CrowdCards - Add Card"),["CrowdCards - Add Card"]}class je extends Ne{constructor(x){super(),Re(this,x,De,$e,Ue,{})}}export{je as component};
