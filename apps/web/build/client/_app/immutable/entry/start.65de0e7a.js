import{o as Dt,t as bt}from"../chunks/index.5b37bd6f.js";import{S as Vt,a as Ft,I as K,g as Nt,f as Tt,b as _t,c as mt,s as X,d as it,i as St,e as Z,P as qt,h as zt}from"../chunks/singletons.eb597214.js";function Qt(o){for(const u in o)o[u]=decodeURIComponent(o[u]);return o}const Xt=["href","pathname","search","searchParams","toString","toJSON"];function Yt(o,u){const E=new URL(o);for(const v of Xt)Object.defineProperty(E,v,{get:()=>(u(),o[v]),enumerable:!0,configurable:!0});return function(v){Object.defineProperty(v,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}(E),E}const Zt="/__data.json";function Ht(o){try{return JSON.parse(sessionStorage[o])}catch{}}function Jt(o,u){const E=JSON.stringify(u);try{sessionStorage[o]=E}catch{}}const gt=window.fetch;window.fetch=(o,u)=>((o instanceof Request?o.method:(u==null?void 0:u.method)||"GET")!=="GET"&&lt.delete(xt(o)),gt(o,u));const lt=new Map;function xt(o,u){let E=`script[data-sveltekit-fetched][data-url=${JSON.stringify(o instanceof Request?o.url:o)}]`;if(u!=null&&u.headers||u!=null&&u.body){const v=[];u.headers&&v.push([...new Headers(u.headers)].join(",")),u.body&&(typeof u.body=="string"||ArrayBuffer.isView(u.body))&&v.push(u.body),E+=`[data-hash="${function(...N){let k=5381;for(const $ of N)if(typeof $=="string"){let A=$.length;for(;A;)k=33*k^$.charCodeAt(--A)}else{if(!ArrayBuffer.isView($))throw new TypeError("value must be a string or TypedArray");{const A=new Uint8Array($.buffer,$.byteOffset,$.byteLength);let I=A.length;for(;I;)k=33*k^A[--I]}}return(k>>>0).toString(36)}(...v)}"]`}return E}const te=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function ee(o){const u=[];var E;return{pattern:o==="/"?/^\/$/:new RegExp(`^${(E=o,E.slice(1).split("/").filter(re)).map(v=>{const N=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(v);if(N)return u.push({name:N[1],matcher:N[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const k=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(v);if(k)return u.push({name:k[1],matcher:k[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!v)return;const $=v.split(/\[(.+?)\](?!\])/);return"/"+$.map((A,I)=>{if(I%2){if(A.startsWith("x+"))return Et(String.fromCharCode(parseInt(A.slice(2),16)));if(A.startsWith("u+"))return Et(String.fromCharCode(...A.slice(2).split("-").map(T=>parseInt(T,16))));const C=te.exec(A);if(!C)throw new Error(`Invalid param: ${A}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,H,g,M,q]=C;return u.push({name:M,matcher:q,optional:!!H,rest:!!g,chained:!!g&&I===1&&$[0]===""}),g?"(.*?)":H?"([^/]*)?":"([^/]+?)"}return Et(A)}).join("")}).join("")}/?$`),params:u}}function re(o){return!/^\([^)]+\)$/.test(o)}function Et(o){return o.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}class ct{constructor(u,E){this.status=u,this.body=typeof E=="string"?{message:E}:E||{message:`Error: ${u}`}}toString(){return JSON.stringify(this.body)}}class Mt{constructor(u,E){this.status=u,this.location=E}}const ne=-1,ae=-2,oe=-3,se=-4,ie=-5,le=-6,Gt=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);[...Gt];const ce=new Set([...Gt,"actions"]);[...ce];const ue="x-sveltekit-invalidated",tt=Ht(Vt)??{},st=Ht(Ft)??{};function kt(o){tt[o]=it()}function fe(o,u){var It;const E=function({nodes:t,server_loads:e,dictionary:n,matchers:r}){const a=new Set(e);return Object.entries(n).map(([s,[l,m,b]])=>{const{pattern:P,params:U}=ee(s),p={id:s,exec:c=>{const w=P.exec(c);if(w)return function(x,j,h){const S={},y=x.slice(1);let _=0;for(let O=0;O<j.length;O+=1){const V=j[O],z=y[O-_];if(V.chained&&V.rest&&_)S[V.name]=y.slice(O-_,O+1).filter(Q=>Q).join("/"),_=0;else if(z!==void 0)if(V.matcher&&!h[V.matcher](z)){if(!V.optional||!V.chained)return;_++}else{S[V.name]=z;const Q=j[O+1],Wt=y[O+1];Q&&!Q.rest&&Q.optional&&Wt&&(_=0)}else V.rest&&(S[V.name]="")}if(!_)return S}(w,U,r)},errors:[1,...b||[]].map(c=>t[c]),layouts:[0,...m||[]].map(d),leaf:i(l)};return p.errors.length=p.layouts.length=Math.max(p.errors.length,p.layouts.length),p});function i(s){const l=s<0;return l&&(s=~s),[l,t[s]]}function d(s){return s===void 0?s:[a.has(s),t[s]]}}(o),v=o.nodes[0],N=o.nodes[1];v(),N();const k=document.documentElement,$=[],A=[];let I=null;const C={before_navigate:[],after_navigate:[]};let H,g={branch:[],error:null,url:null},M=!1,q=!1,T=!0,R=!1,J=!1,L=!1,W=!1,f=(It=history.state)==null?void 0:It[K];f||(f=Date.now(),history.replaceState({...history.state,[K]:f},"",location.href));const F=tt[f];let D,G,Y;async function rt(){Y=Y||Promise.resolve(),await Y,Y=null;const t=new URL(location.href),e=at(t,!0);I=null;const n=G={},r=e&&await vt(e);if(n===G&&r){if(r.type==="redirect")return ut(new URL(r.location,t).href,{},[t.pathname],n);r.props.page!==void 0&&(D=r.props.page),H.$set(r.props)}}function B(t){A.some(e=>e==null?void 0:e.snapshot)&&(st[t]=A.map(e=>{var n;return(n=e==null?void 0:e.snapshot)==null?void 0:n.capture()}))}function Lt(t){var e;(e=st[t])==null||e.forEach((n,r)=>{var a,i;(i=(a=A[r])==null?void 0:a.snapshot)==null||i.restore(n)})}function At(){kt(f),Jt(Vt,tt),B(f),Jt(Ft,st)}async function ut(t,{noScroll:e=!1,replaceState:n=!1,keepFocus:r=!1,state:a={},invalidateAll:i=!1},d,s){return typeof t=="string"&&(t=new URL(t,Nt(document))),ht({url:t,scroll:e?it():null,keepfocus:r,redirect_chain:d,details:{state:a,replaceState:n},nav_token:s,accepted:()=>{i&&(W=!0)},blocked:()=>{},type:"goto"})}async function Ut(t){return I={id:t.id,promise:vt(t).then(e=>(e.type==="loaded"&&e.state.error&&(I=null),e))},I.promise}async function ft(...t){const e=E.filter(n=>t.some(r=>n.exec(r))).map(n=>Promise.all([...n.layouts,n.leaf].map(r=>r==null?void 0:r[1]())));await Promise.all(e)}function Ot(t){var r;g=t.state;const e=document.querySelector("style[data-sveltekit]");e&&e.remove(),D=t.props.page,H=new o.root({target:u,props:{...t.props,stores:X,components:A},hydrate:!0}),Lt(f);const n={from:null,to:{params:g.params,route:{id:((r=g.route)==null?void 0:r.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};C.after_navigate.forEach(a=>a(n)),q=!0}async function nt({url:t,params:e,branch:n,status:r,error:a,route:i,form:d}){let s="never";for(const w of n)(w==null?void 0:w.slash)!==void 0&&(s=w.slash);var l,m;t.pathname=(l=t.pathname,m=s,l==="/"||m==="ignore"?l:m==="never"?l.endsWith("/")?l.slice(0,-1):l:m!=="always"||l.endsWith("/")?l:l+"/"),t.search=t.search;const b={type:"loaded",state:{url:t,params:e,branch:n,error:a,route:i},props:{constructors:(P=n,P.filter(w=>w!=null)).map(w=>w.node.component)}};var P;d!==void 0&&(b.props.form=d);let U={},p=!D,c=0;for(let w=0;w<Math.max(n.length,g.branch.length);w+=1){const x=n[w],j=g.branch[w];(x==null?void 0:x.data)!==(j==null?void 0:j.data)&&(p=!0),x&&(U={...U,...x.data},p&&(b.props[`data_${c}`]=U),c+=1)}return(!g.url||t.href!==g.url.href||g.error!==a||d!==void 0&&d!==D.form||p)&&(b.props.page={error:a,params:e,route:{id:(i==null?void 0:i.id)??null},status:r,url:new URL(t),form:d??null,data:p?U:D.data}),b}async function yt({loader:t,parent:e,url:n,params:r,route:a,server_data_node:i}){var m,b,P;let d=null;const s={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},l=await t();if((m=l.universal)!=null&&m.load){let U=function(...c){for(const w of c){const{href:x}=new URL(w,n);s.dependencies.add(x)}};const p={route:{get id(){return s.route=!0,a.id}},params:new Proxy(r,{get:(c,w)=>(s.params.add(w),c[w])}),data:(i==null?void 0:i.data)??null,url:Yt(n,()=>{s.url=!0}),async fetch(c,w){let x;c instanceof Request?(x=c.url,w={body:c.method==="GET"||c.method==="HEAD"?void 0:await c.blob(),cache:c.cache,credentials:c.credentials,headers:c.headers,integrity:c.integrity,keepalive:c.keepalive,method:c.method,mode:c.mode,redirect:c.redirect,referrer:c.referrer,referrerPolicy:c.referrerPolicy,signal:c.signal,...w}):x=c;const j=new URL(x,n);return U(j.href),j.origin===n.origin&&(x=j.href.slice(n.origin.length)),q?function(h,S,y){if(lt.size>0){const _=xt(h,y),O=lt.get(_);if(O){if(performance.now()<O.ttl&&["default","force-cache","only-if-cached",void 0].includes(y==null?void 0:y.cache))return new Response(O.body,O.init);lt.delete(_)}}return gt(S,y)}(x,j.href,w):function(h,S){const y=xt(h,S),_=document.querySelector(y);if(_!=null&&_.textContent){const{body:O,...V}=JSON.parse(_.textContent),z=_.getAttribute("data-ttl");return z&&lt.set(y,{body:O,init:V,ttl:1e3*Number(z)}),Promise.resolve(new Response(O,V))}return gt(h,S)}(x,w)},setHeaders:()=>{},depends:U,parent:()=>(s.parent=!0,e())};d=await l.universal.load.call(null,p)??null,d=d?await async function(c){var w;for(const x in c)if(typeof((w=c[x])==null?void 0:w.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(c).map(async([j,h])=>[j,await h])));return c}(d):null}return{node:l,loader:t,server:i,universal:(b=l.universal)!=null&&b.load?{type:"data",data:d,uses:s}:null,data:d??(i==null?void 0:i.data)??null,slash:((P=l.universal)==null?void 0:P.trailingSlash)??(i==null?void 0:i.slash)}}function $t(t,e,n,r,a){if(W)return!0;if(!r)return!1;if(r.parent&&t||r.route&&e||r.url&&n)return!0;for(const i of r.params)if(a[i]!==g.params[i])return!0;for(const i of r.dependencies)if($.some(d=>d(new URL(i))))return!0;return!1}function wt(t,e){return(t==null?void 0:t.type)==="data"?t:(t==null?void 0:t.type)==="skip"?e??null:null}async function vt({id:t,invalidating:e,url:n,params:r,route:a}){if((I==null?void 0:I.id)===t)return I.promise;const{errors:i,layouts:d,leaf:s}=a,l=[...d,s];i.forEach(h=>h==null?void 0:h().catch(()=>{})),l.forEach(h=>h==null?void 0:h[1]().catch(()=>{}));let m=null;const b=!!g.url&&t!==g.url.pathname+g.url.search,P=!!g.route&&a.id!==g.route.id;let U=!1;const p=l.map((h,S)=>{var O;const y=g.branch[S],_=!!(h!=null&&h[0])&&((y==null?void 0:y.loader)!==h[1]||$t(U,P,b,(O=y.server)==null?void 0:O.uses,r));return _&&(U=!0),_});if(p.some(Boolean)){try{m=await Bt(n,p)}catch(h){return dt({status:h instanceof ct?h.status:500,error:await ot(h,{url:n,params:r,route:{id:a.id}}),url:n,route:a})}if(m.type==="redirect")return m}const c=m==null?void 0:m.nodes;let w=!1;const x=l.map(async(h,S)=>{var O;if(!h)return;const y=g.branch[S],_=c==null?void 0:c[S];if(!(_&&_.type!=="skip"||h[1]!==(y==null?void 0:y.loader)||$t(w,P,b,(O=y.universal)==null?void 0:O.uses,r)))return y;if(w=!0,(_==null?void 0:_.type)==="error")throw _;return yt({loader:h[1],url:n,params:r,route:a,parent:async()=>{var z;const V={};for(let Q=0;Q<S;Q+=1)Object.assign(V,(z=await x[Q])==null?void 0:z.data);return V},server_data_node:wt(_===void 0&&h[0]?{type:"skip"}:_??null,h[0]?y==null?void 0:y.server:void 0)})});for(const h of x)h.catch(()=>{});const j=[];for(let h=0;h<l.length;h+=1)if(l[h])try{j.push(await x[h])}catch(S){if(S instanceof Mt)return{type:"redirect",location:S.location};let y,_=500;if(c!=null&&c.includes(S))_=S.status??_,y=S.error;else if(S instanceof ct)_=S.status,y=S.body;else{if(await X.updated.check())return await et(n);y=await ot(S,{params:r,url:n,route:{id:a.id}})}const O=await Pt(h,j,i);return O?await nt({url:n,params:r,branch:j.slice(0,O.idx).concat(O.node),status:_,error:y,route:a}):await Ct(n,{id:a.id},y,_)}else j.push(void 0);return await nt({url:n,params:r,branch:j,status:200,error:null,route:a,form:e?void 0:null})}async function Pt(t,e,n){for(;t--;)if(n[t]){let r=t;for(;!e[r];)r-=1;try{return{idx:r+1,node:{node:await n[t](),loader:n[t],data:{},server:null,universal:null}}}catch{continue}}}async function dt({status:t,error:e,url:n,route:r}){const a={};let i=null;if(o.server_loads[0]===0)try{const l=await Bt(n,[!0]);if(l.type!=="data"||l.nodes[0]&&l.nodes[0].type!=="data")throw 0;i=l.nodes[0]??null}catch{(n.origin!==location.origin||n.pathname!==location.pathname||M)&&await et(n)}const d=await yt({loader:v,url:n,params:a,route:r,parent:()=>Promise.resolve({}),server_data_node:wt(i)}),s={node:await N(),loader:N,universal:null,server:null,data:null};return await nt({url:n,params:a,branch:[d,s],status:t,error:e,route:null})}function at(t,e){if(St(t,Z))return;const n=pt(t);for(const r of E){const a=r.exec(n);if(a)return{id:t.pathname+t.search,invalidating:e,route:r,params:Qt(a),url:t}}}function pt(t){return(t.pathname.slice(Z.length)||"/").split("%25").map(decodeURI).join("%25")}function jt({url:t,type:e,intent:n,delta:r}){var s,l;let a=!1;const i={from:{params:g.params,route:{id:((s=g.route)==null?void 0:s.id)??null},url:g.url},to:{params:(n==null?void 0:n.params)??null,route:{id:((l=n==null?void 0:n.route)==null?void 0:l.id)??null},url:t},willUnload:!n,type:e};r!==void 0&&(i.delta=r);const d={...i,cancel:()=>{a=!0}};return J||C.before_navigate.forEach(m=>m(d)),a?null:i}async function ht({url:t,scroll:e,keepfocus:n,redirect_chain:r,details:a,type:i,delta:d,nav_token:s={},accepted:l,blocked:m}){var x,j,h;const b=at(t,!1),P=jt({url:t,type:i,delta:d,intent:b});if(!P)return void m();const U=f;l(),J=!0,q&&X.navigating.set(P),G=s;let p=b&&await vt(b);if(!p){if(St(t,Z))return await et(t);p=await Ct(t,{id:null},await ot(new Error(`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=(b==null?void 0:b.url)||t,G!==s)return!1;if(p.type==="redirect"){if(!(r.length>10||r.includes(t.pathname)))return ut(new URL(p.location,t).href,{},[...r,t.pathname],s),!1;p=await dt({status:500,error:await ot(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else((x=p.props.page)==null?void 0:x.status)>=400&&await X.updated.check()&&await et(t);if($.length=0,W=!1,R=!0,kt(U),B(U),(j=p.props.page)!=null&&j.url&&p.props.page.url.pathname!==t.pathname&&(t.pathname=(h=p.props.page)==null?void 0:h.url.pathname),a){const S=a.replaceState?0:1;if(a.state[K]=f+=S,history[a.replaceState?"replaceState":"pushState"](a.state,"",t),!a.replaceState){let y=f+1;for(;st[y]||tt[y];)delete st[y],delete tt[y],y+=1}}I=null,q?(g=p.state,p.props.page&&(p.props.page.url=t),H.$set(p.props)):Ot(p);const{activeElement:c}=document;if(await bt(),T){const S=t.hash&&document.getElementById(decodeURIComponent(t.hash.slice(1)));e?scrollTo(e.x,e.y):S?S.scrollIntoView():scrollTo(0,0)}const w=document.activeElement!==c&&document.activeElement!==document.body;n||w||Rt(),T=!0,p.props.page&&(D=p.props.page),J=!1,i==="popstate"&&Lt(f),C.after_navigate.forEach(S=>S(P)),X.navigating.set(null),R=!1}async function Ct(t,e,n,r){return t.origin!==location.origin||t.pathname!==location.pathname||M?await et(t):await dt({status:r,error:n,url:t,route:e})}function et(t){return location.href=t.href,new Promise(()=>{})}function ot(t,e){return t instanceof ct?t.body:o.hooks.handleError({error:t,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}return F&&(history.scrollRestoration="manual",scrollTo(F.x,F.y)),{after_navigate:t=>{Dt(()=>(C.after_navigate.push(t),()=>{const e=C.after_navigate.indexOf(t);C.after_navigate.splice(e,1)}))},before_navigate:t=>{Dt(()=>(C.before_navigate.push(t),()=>{const e=C.before_navigate.indexOf(t);C.before_navigate.splice(e,1)}))},disable_scroll_handling:()=>{!R&&q||(T=!1)},goto:(t,e={})=>ut(t,e,[]),invalidate:t=>{if(typeof t=="function")$.push(t);else{const{href:e}=new URL(t,location.href);$.push(n=>n.href===e)}return rt()},invalidate_all:()=>(W=!0,rt()),preload_data:async t=>{const e=new URL(t,Nt(document)),n=at(e,!1);if(!n)throw new Error(`Attempted to preload a URL that does not belong to this app: ${e}`);await Ut(n)},preload_code:ft,apply_action:async t=>{if(t.type==="error"){const e=new URL(location.href),{branch:n,route:r}=g;if(!r)return;const a=await Pt(g.branch.length,n,r.errors);if(a){const i=await nt({url:e,params:g.params,branch:n.slice(0,a.idx).concat(a.node),status:t.status??500,error:t.error,route:r});g=i.state,H.$set(i.props),bt().then(Rt)}}else t.type==="redirect"?ut(t.location,{invalidateAll:!0},[]):(H.$set({form:null,page:{...D,form:t.data,status:t.status}}),await bt(),H.$set({form:t.data}),t.type==="success"&&Rt())},_start_router:()=>{var t;history.scrollRestoration="manual",addEventListener("beforeunload",e=>{var r;let n=!1;if(At(),!J){const a={from:{params:g.params,route:{id:((r=g.route)==null?void 0:r.id)??null},url:g.url},to:null,willUnload:!0,type:"leave",cancel:()=>n=!0};C.before_navigate.forEach(i=>i(a))}n?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&At()}),(t=navigator.connection)!=null&&t.saveData||function(){let e;function n(d){a(d.composedPath()[0],1)}k.addEventListener("mousemove",d=>{const s=d.target;clearTimeout(e),e=setTimeout(()=>{a(s,2)},20)}),k.addEventListener("mousedown",n),k.addEventListener("touchstart",n,{passive:!0});const r=new IntersectionObserver(d=>{for(const s of d)s.isIntersecting&&(ft(pt(new URL(s.target.href))),r.unobserve(s.target))},{threshold:0});function a(d,s){const l=Tt(d,k);if(!l)return;const{url:m,external:b,download:P}=_t(l,Z);if(b||P)return;const U=mt(l);if(!U.reload)if(s<=U.preload_data){const p=at(m,!1);p&&Ut(p)}else s<=U.preload_code&&ft(pt(m))}function i(){r.disconnect();for(const d of k.querySelectorAll("a")){const{url:s,external:l,download:m}=_t(d,Z);if(l||m)continue;const b=mt(d);b.reload||(b.preload_code===qt.viewport&&r.observe(d),b.preload_code===qt.eager&&ft(pt(s)))}}C.after_navigate.push(i),i()}(),k.addEventListener("click",e=>{var b;if(e.button||e.which!==1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.defaultPrevented)return;const n=Tt(e.composedPath()[0],k);if(!n)return;const{url:r,external:a,target:i,download:d}=_t(n,Z);if(!r)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const s=mt(n);if(!(n instanceof SVGAElement)&&r.protocol!==location.protocol&&r.protocol!=="https:"&&r.protocol!=="http:"||d)return;if(a||s.reload)return void(jt({url:r,type:"link"})?J=!0:e.preventDefault());const[l,m]=r.href.split("#");if(m!==void 0&&l===location.href.split("#")[0]){if(g.url.hash===r.hash)return e.preventDefault(),void((b=n.ownerDocument.getElementById(m))==null?void 0:b.scrollIntoView());if(L=!0,kt(f),g.url=r,X.page.set({...D,url:r}),X.page.notify(),!s.replace_state)return;L=!1,e.preventDefault()}ht({url:r,scroll:s.noscroll?it():null,keepfocus:s.keep_focus??!1,redirect_chain:[],details:{state:{},replaceState:s.replace_state??r.href===location.href},accepted:()=>e.preventDefault(),blocked:()=>e.preventDefault(),type:"link"})}),k.addEventListener("submit",e=>{if(e.defaultPrevented)return;const n=HTMLFormElement.prototype.cloneNode.call(e.target),r=e.submitter;if(((r==null?void 0:r.formMethod)||n.method)!=="get")return;const a=new URL((r==null?void 0:r.hasAttribute("formaction"))&&(r==null?void 0:r.formAction)||n.action);if(St(a,Z))return;const i=e.target,{keep_focus:d,noscroll:s,reload:l,replace_state:m}=mt(i);if(l)return;e.preventDefault(),e.stopPropagation();const b=new FormData(i),P=r==null?void 0:r.getAttribute("name");P&&b.append(P,(r==null?void 0:r.getAttribute("value"))??""),a.search=new URLSearchParams(b).toString(),ht({url:a,scroll:s?it():null,keepfocus:d??!1,redirect_chain:[],details:{state:{},replaceState:m??a.href===location.href},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",async e=>{var n;if((n=e.state)!=null&&n[K]){if(e.state[K]===f)return;const r=tt[e.state[K]];if(g.url.href.split("#")[0]===location.href.split("#")[0])return tt[f]=it(),f=e.state[K],void scrollTo(r.x,r.y);const a=e.state[K]-f;await ht({url:new URL(location.href),scroll:r,keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{f=e.state[K]},blocked:()=>{history.go(-a)},type:"popstate",delta:a})}}),addEventListener("hashchange",()=>{L&&(L=!1,history.replaceState({...history.state,[K]:++f},"",location.href))});for(const e of document.querySelectorAll("link"))e.rel==="icon"&&(e.href=e.href);addEventListener("pageshow",e=>{e.persisted&&X.navigating.set(null)})},_hydrate:async({status:t=200,error:e,node_ids:n,params:r,route:a,data:i,form:d})=>{M=!0;const s=new URL(location.href);let l;({params:r={},route:a={id:null}}=at(s,!1)||{});try{const m=n.map(async(U,p)=>{const c=i[p];return c!=null&&c.uses&&(c.uses=Kt(c.uses)),yt({loader:o.nodes[U],url:s,params:r,route:a,parent:async()=>{const w={};for(let x=0;x<p;x+=1)Object.assign(w,(await m[x]).data);return w},server_data_node:wt(c)})}),b=await Promise.all(m),P=E.find(({id:U})=>U===a.id);if(P){const U=P.layouts;for(let p=0;p<U.length;p++)U[p]||b.splice(p,0,void 0)}l=await nt({url:s,params:r,branch:b,status:t,error:e,form:d,route:P??null})}catch(m){if(m instanceof Mt)return void await et(new URL(m.location,location.href));l=await dt({status:m instanceof ct?m.status:500,error:await ot(m,{url:s,params:r,route:a}),url:s,route:a})}Ot(l)}}}async function Bt(o,u){const E=new URL(o);E.pathname=o.pathname.replace(/\/$/,"")+Zt,E.searchParams.append(ue,u.map(N=>N?"1":"0").join(""));const v=await gt(E.href);if(!v.ok)throw new ct(v.status,await v.json());return new Promise(async N=>{var H;const k=new Map,$=v.body.getReader(),A=new TextDecoder;function I(g){return function(M,q){if(typeof M=="number")return J(M,!0);if(!Array.isArray(M)||M.length===0)throw new Error("Invalid input");const T=M,R=Array(T.length);function J(L,W=!1){if(L===ne)return;if(L===oe)return NaN;if(L===se)return 1/0;if(L===ie)return-1/0;if(L===le)return-0;if(W)throw new Error("Invalid input");if(L in R)return R[L];const f=T[L];if(f&&typeof f=="object")if(Array.isArray(f))if(typeof f[0]=="string"){const F=f[0],D=q==null?void 0:q[F];if(D)return R[L]=D(J(f[1]));switch(F){case"Date":R[L]=new Date(f[1]);break;case"Set":const G=new Set;R[L]=G;for(let B=1;B<f.length;B+=1)G.add(J(f[B]));break;case"Map":const Y=new Map;R[L]=Y;for(let B=1;B<f.length;B+=2)Y.set(J(f[B]),J(f[B+1]));break;case"RegExp":R[L]=new RegExp(f[1],f[2]);break;case"Object":R[L]=Object(f[1]);break;case"BigInt":R[L]=BigInt(f[1]);break;case"null":const rt=Object.create(null);R[L]=rt;for(let B=1;B<f.length;B+=2)rt[f[B]]=J(f[B+1]);break;default:throw new Error(`Unknown type ${F}`)}}else{const F=new Array(f.length);R[L]=F;for(let D=0;D<f.length;D+=1){const G=f[D];G!==ae&&(F[D]=J(G))}}else{const F={};R[L]=F;for(const D in f){const G=f[D];F[D]=J(G)}}else R[L]=f;return R[L]}return J(0)}(g,{Promise:M=>new Promise((q,T)=>{k.set(M,{fulfil:q,reject:T})})})}let C="";for(;;){const{done:g,value:M}=await $.read();if(g&&!C)break;for(C+=!M&&C?`
`:A.decode(M);;){const q=C.indexOf(`
`);if(q===-1)break;const T=JSON.parse(C.slice(0,q));if(C=C.slice(q+1),T.type==="redirect")return N(T);if(T.type==="data")(H=T.nodes)==null||H.forEach(R=>{(R==null?void 0:R.type)==="data"&&(R.uses=Kt(R.uses),R.data=I(R.data))}),N(T);else if(T.type==="chunk"){const{id:R,data:J,error:L}=T,W=k.get(R);k.delete(R),L?W.reject(I(L)):W.fulfil(I(J))}}}})}function Kt(o){return{dependencies:new Set((o==null?void 0:o.dependencies)??[]),params:new Set((o==null?void 0:o.params)??[]),parent:!!(o!=null&&o.parent),route:!!(o!=null&&o.route),url:!!(o!=null&&o.url)}}function Rt(){const o=document.querySelector("[autofocus]");if(o)o.focus();else{const u=document.body,E=u.getAttribute("tabindex");u.tabIndex=-1,u.focus({preventScroll:!0,focusVisible:!1}),E!==null?u.setAttribute("tabindex",E):u.removeAttribute("tabindex");const v=getSelection();if(v&&v.type!=="None"){const N=[];for(let k=0;k<v.rangeCount;k+=1)N.push(v.getRangeAt(k));setTimeout(()=>{if(v.rangeCount===N.length){for(let k=0;k<v.rangeCount;k+=1){const $=N[k],A=v.getRangeAt(k);if($.commonAncestorContainer!==A.commonAncestorContainer||$.startContainer!==A.startContainer||$.endContainer!==A.endContainer||$.startOffset!==A.startOffset||$.endOffset!==A.endOffset)return}v.removeAllRanges()}})}}}async function he(o,u,E){const v=fe(o,u);zt({client:v}),E?await v._hydrate(E):v.goto(location.href,{replaceState:!0}),v._start_router()}export{he as start};
