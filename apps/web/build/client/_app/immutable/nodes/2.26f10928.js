import{S as he,i as me,s as ge,C as pe,J as ve,e as ce,a as v,k as r,q as O,K as we,L as ue,h as t,c as w,l as s,m as l,r as P,n as a,M as le,G as o,b as _,D as be,E as Ee,F as ye,g as xe,d as Ie,o as Le,N as Te}from"../chunks/index.5b37bd6f.js";import{p as de}from"../chunks/_virtual_pwa-info.6abbea9f.js";import"../chunks/singletons.eb597214.js";import{g as Ce}from"../chunks/navigation.abb71fe0.js";const{document:ee}=Te;function ke(L){let g,u,T,d,m,f,p,W,A,n,b,G,J,B,q,U,$,Y,F,h,E,K,y,z,C,Q,X,M,k,fe,D,H,N,x,S;const Z=L[2].default,i=pe(Z,L,L[1],null);return{c(){g=new ve(!1),u=ce(),T=v(),d=r("nav"),m=r("div"),f=r("a"),p=r("img"),A=v(),n=r("div"),b=r("a"),G=O("Create Card"),J=v(),B=r("a"),q=O("View Community Cards"),U=v(),$=r("a"),Y=O("View Approved Cards"),F=v(),h=r("div"),E=r("a"),K=v(),y=r("a"),z=v(),C=r("a"),Q=O("Login"),X=v(),M=r("a"),k=r("img"),D=v(),H=r("br"),N=v(),x=r("div"),i&&i.c(),this.h()},l(e){const c=we("svelte-13srx9e",ee.head);g=ue(c,!1),u=ce(),c.forEach(t),T=w(e),d=s(e,"NAV",{class:!0,id:!0});var R=l(d);m=s(R,"DIV",{class:!0});var j=l(m);f=s(j,"A",{href:!0});var ae=l(f);p=s(ae,"IMG",{class:!0,src:!0,alt:!0}),ae.forEach(t),A=w(j),n=s(j,"DIV",{class:!0});var V=l(n);b=s(V,"A",{href:!0});var oe=l(b);G=P(oe,"Create Card"),oe.forEach(t),J=w(V),B=s(V,"A",{href:!0});var ne=l(B);q=P(ne,"View Community Cards"),ne.forEach(t),U=w(V),$=s(V,"A",{href:!0});var te=l($);Y=P(te,"View Approved Cards"),te.forEach(t),V.forEach(t),j.forEach(t),F=w(R),h=s(R,"DIV",{class:!0});var I=l(h);E=s(I,"A",{href:!0,id:!0,class:!0,"aria-label":!0}),l(E).forEach(t),K=w(I),y=s(I,"A",{href:!0,id:!0,"aria-label":!0,class:!0}),l(y).forEach(t),z=w(I),C=s(I,"A",{href:!0,id:!0});var re=l(C);Q=P(re,"Login"),re.forEach(t),X=w(I),M=s(I,"A",{href:!0});var se=l(M);k=s(se,"IMG",{class:!0,src:!0,alt:!0}),se.forEach(t),I.forEach(t),R.forEach(t),D=w(e),H=s(e,"BR",{}),N=w(e),x=s(e,"DIV",{class:!0,id:!0});var ie=l(x);i&&i.l(ie),ie.forEach(t),this.h()},h(){g.a=u,a(p,"class","mr-[30px] inline-block h-auto w-[3.12rem]"),le(p.src,W="/cclogo-layout.svg")||a(p,"src","/cclogo-layout.svg"),a(p,"alt","Logo"),a(f,"href","/"),a(b,"href","/add_card"),a(B,"href","/new_cards"),a($,"href","/verified_cards"),a(n,"class","space-x-3.5"),a(m,"class","flex items-center"),a(E,"href","/offline"),a(E,"id","offline"),a(E,"class","mr-3 text-red-800"),a(E,"aria-label","The offline button that appears when the site is disconnected from the internet."),a(y,"href","/admin"),a(y,"id","admin"),a(y,"aria-label","The admin button."),a(y,"class","mr-1"),a(C,"href","/login"),a(C,"id","login-btn"),a(k,"class","ml-[20px] inline-block h-auto w-[1.5rem]"),le(k.src,fe="https://cdn.glitch.global/3de90402-af4c-426a-b746-6b7cb6f31203/139-1393405_file-gear-icon-svg-wikimedia-commons-gear-icon-removebg-preview.png")||a(k,"src","https://cdn.glitch.global/3de90402-af4c-426a-b746-6b7cb6f31203/139-1393405_file-gear-icon-svg-wikimedia-commons-gear-icon-removebg-preview.png"),a(k,"alt","Settings"),a(M,"href","/settings"),a(h,"class","mr-3"),a(d,"class","font-roboto flex items-center justify-between bg-[#333] px-2.5 py-[7px] text-white"),a(d,"id","a"),a(x,"class","border-2 border-transparent text-white"),a(x,"id","c")},m(e,c){g.m(L[0],ee.head),o(ee.head,u),_(e,T,c),_(e,d,c),o(d,m),o(m,f),o(f,p),o(m,A),o(m,n),o(n,b),o(b,G),o(n,J),o(n,B),o(B,q),o(n,U),o(n,$),o($,Y),o(d,F),o(d,h),o(h,E),o(h,K),o(h,y),o(h,z),o(h,C),o(C,Q),o(h,X),o(h,M),o(M,k),_(e,D,c),_(e,H,c),_(e,N,c),_(e,x,c),i&&i.m(x,null),S=!0},p(e,[c]){(!S||1&c)&&g.p(e[0]),i&&i.p&&(!S||2&c)&&be(i,Z,e,e[1],S?ye(Z,e[1],c,null):Ee(e[1]),null)},i(e){S||(xe(i,e),S=!0)},o(e){Ie(i,e),S=!1},d(e){t(u),e&&g.d(),e&&t(T),e&&t(d),e&&t(D),e&&t(H),e&&t(N),e&&t(x),i&&i.d(e)}}}function Se(L,g,u){let T,{$$slots:d={},$$scope:m}=g;return Le(async()=>{Ce(`/${window.location.href.match(new RegExp("(?<=https://.*/).*"))}`),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/prompt-sw.js",{scope:"/"});let n=!!navigator.serviceWorker.controller;navigator.serviceWorker.addEventListener("controllerchange",()=>{n?Swal.fire({title:"Refresh required!",text:"New site content has been loaded! To see it, you'll have to refresh the site.",icon:"warning",showCancelButton:!0,confirmButtonText:"Refresh now",cancelButtonText:"Refresh later"}).then(b=>{b.isConfirmed&&window.location.reload()}):n=!0})}),window.addEventListener("offline",n=>{console.log(navigator.onLine,navigator.online),document.getElementById("offline").innerHTML="You are offline!"}),window.addEventListener("online",n=>{console.log(navigator.onLine,navigator.online),document.getElementById("offline").innerHTML=""}),navigator.onLine===!1&&(console.log(navigator.onLine,navigator.online),document.getElementById("offline").innerHTML="You are offline!");const f=localStorage.getItem("uuid"),p=localStorage.getItem("sessionToken");f&&p&&fetch("https://crowdcards-api.glitch.me/api/checkSession",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({UUID:f,stoken:p})}).then(n=>n.text()).then(n=>{n==="001"?(document.getElementById("login-btn").innerHTML="Profile",document.getElementById("login-btn").href="/profile"):(localStorage.removeItem("uuid"),localStorage.removeItem("sessionToken"))});const W=document.getElementById("admin"),A=localStorage.getItem("admin_password");A&&fetch("https://crowdcards-api.glitch.me/api/checkAdminPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:A})}).then(n=>n.text()).then(n=>{!n==="001"?localStorage.removeItem("admin_password"):W.innerHTML="Admin"})}),L.$$set=f=>{"$$scope"in f&&u(1,m=f.$$scope)},u(0,T=de?de.webManifest.linkTag:""),[T,m,d]}class Ve extends he{constructor(g){super(),me(this,g,Se,ke,ge,{})}}export{Ve as component};
